<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title></title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="{% block description %}{% endblock %}">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <base href="../">

        <link rel="stylesheet" href="book.css">
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="highlight.css">

        <link rel="stylesheet" href="static/css/lumol.css">

        <!-- MathJax -->
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
        });</script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Fetch JQuery from CDN but have a local fallback -->
        <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
        <script>
            if (typeof jQuery == 'undefined') {
                document.write(unescape("%3Cscript src='jquery.js'%3E%3C/script%3E"));
            }
        </script>
    </head>
    <body class="light">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var sidebar = localStorage.getItem('sidebar');
            if (sidebar === "hidden") { $("html").addClass("sidebar-hidden") }
            else if (sidebar === "visible") { $("html").addClass("sidebar-visible") }
        </script>

        <div id="sidebar" class="sidebar">
            <ul class="chapter"><li><a href="engine/intro.html"><strong>1.</strong> Introduction</a></li><li><ul class="section"><li><a href="engine/system.html"><strong>1.1.</strong> System</a></li><li><a href="engine/simulation.html"><strong>1.2.</strong> Simulation</a></li></ul></li><li><strong>2.</strong> Tutorial: using Lumol</li><li><ul class="section"><li><strong>2.1.</strong> Monte-Carlo of argon</li><li><strong>2.2.</strong> Molecular dynamics of water</li><li><strong>2.3.</strong> Gibbs simulation of ethane</li><li><strong>2.4.</strong> Hello Sodium Chloride</li><li><strong>2.5.</strong> Adsorption in zeolites</li></ul></li><li><a href="input/intro.html"><strong>3.</strong> Input files reference</a></li><li><ul class="section"><li><a href="input/systems.html"><strong>3.1.</strong> Systems</a></li><li><a href="input/interactions.html" class="active"><strong>3.2.</strong> Interactions</a></li><li><a href="input/potentials.html"><strong>3.3.</strong> Potentials</a></li><li><a href="input/simulations.html"><strong>3.4.</strong> Simulations</a></li><li><a href="input/md.html"><strong>3.5.</strong> Molecular dynamics</a></li><li><a href="input/mc.html"><strong>3.6.</strong> Monte-Carlo</a></li><li><a href="input/units.html"><strong>3.7.</strong> Units</a></li></ul></li><li><strong>4.</strong> Tutorial: extending Lumol</li><li><ul class="section"><li><strong>4.1.</strong> Adding potentials</li><li><strong>4.2.</strong> Adding outputs</li><li><strong>4.3.</strong> Extending Molecular dynamics</li><li><strong>4.4.</strong> Extending Monte-Carlo</li><li><strong>4.5.</strong> Adding propagators</li></ul></li></ul>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar" class="menu-bar">
                    <div class="left-buttons">
                        <i id="sidebar-toggle" class="fa fa-bars"></i>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <i id="print-button" class="fa fa-print" title="Print this book"></i>
                    </div>
                </div>

                <div id="content" class="content">
                    <h1>Interactions</h1>
<p>An interaction is the association of atomic types, a potential function and
optionally restrictions and mode of computation. Input files for interaction
contains all this information, ordered in multiple sections. The <code>pairs</code>,
<code>bonds</code>, <code>angles</code> and <code>dihedrals</code> sections are arrays of interactions, listing
possible atomic combinations and associated potentials. The <code>coulomb</code> section
contains information about the treatment of long-range electrostatic
interactions, and the <code>charges</code> section defines the partial charges of the
atoms.</p>
<p>An example of an input file for the f-SPC model of water is given bellow:</p>
<pre><code class="language-toml">[input]
version = 1

[global]
cutoff = &quot;12.5 A&quot;

[[pairs]]
atoms = [&quot;O&quot;, &quot;O&quot;]
lj = {sigma = &quot;3.16 A&quot;, epsilon = &quot;0.155 kcal/mol&quot;}

[[pairs]]
atoms = [&quot;O&quot;, &quot;H&quot;]
null = {}

[[pairs]]
atoms = [&quot;H&quot;, &quot;H&quot;]
harmonic = {k = &quot;79.8 kcal/mol/A^2&quot;, x0 = &quot;1.633 A&quot;}
restriction = &quot;intra-molecular&quot;

[[bonds]]
atoms = [&quot;O&quot;, &quot;H&quot;]
harmonic = {k = &quot;1054.2 kcal/mol/A^2&quot;, x0 = &quot;1.0 A&quot;}

[[angles]]
atoms = [&quot;H&quot;, &quot;O&quot;, &quot;H&quot;]
harmonic = {k = &quot;75.9 kcal/mol/rad^2&quot;, x0 = &quot;109.5 deg&quot;}

[coulomb]
ewald = {cutoff = &quot;10 A&quot;, kmax = 7}

[charges]
O = -0.82
H = 0.41
</code></pre>
<h2>Pairs and molecular interactions</h2>
<p>The <code>pairs</code>, <code>bonds</code>, <code>angles</code> and <code>dihedrals</code> sections are arrays, in which
every entry must contain at least two keys: the <code>atoms</code> key, and a
<a href="input/potentials.html#Available%20potentials">potential</a> key. The <code>atoms</code> key
specifies the atom types to which the interaction should be applied and should
contain two atoms for <code>pairs</code> and <code>bonds</code>, three atoms for <code>angles</code> and four
atoms for <code>dihedrals</code>.</p>
<p>For example, to use a harmonic bond potential for all <code>C-H</code> bonds:</p>
<pre><code class="language-toml">[[bonds]]
atoms = [&quot;C&quot;, &quot;H&quot;]
harmonic = {x0 = &quot;3.405 A&quot;, k = &quot;2385 kcal/mol/A^2&quot;}
</code></pre>
<p>Within the <code>pairs</code> section, additional information about how to compute the
pair potential can be given:</p>
<ul>
<li>A <a href="input/potentials.html#Restrictions">restriction</a> restrict the potential
to a subset of the pairs in the system with the <code>restriction</code> keyword;</li>
<li>A different <a href="input/potentials.html#Potential%20computations">computation method</a> can be specified with the
<code>computation</code> keyword;</li>
<li>A different <a href="input/interactions.html#Cutoff%20treatment%20for%20pair%20interactions">cutoff treatment</a> is
specified by the <code>cutoff</code> keyword.</li>
</ul>
<pre><code class="language-toml">[[pairs]]
atoms = [&quot;Ar&quot;, &quot;Ar&quot;]
lj = {sigma = &quot;3.405 A&quot;, epsilon = &quot;0.2385 kcal/mol&quot;}
computation = {table = {n = 2000, max = &quot;20.0 A&quot;}}
restriction  = &quot;IntraMolecular&quot;
</code></pre>
<h3>Cutoff treatment for pair interactions</h3>
<p>Two different cutoff treatments are available for pair interactions: a simple
cutoff distance, or a shifted potential with a cutoff. With a simple cutoff the
potential is only set to zero after the cutoff distance. With a shifted
potential, the potential energy is shifted so that it is zero at the cutoff
distance and after. This mean that the energy is continuous for the shifted
potential, which is a desirable property for molecular dynamics stability.</p>
<p>In the input files, a simple cutoff can be used with <code>cutoff = &quot;8 A&quot;</code>, and a
shifted potential can be used with <code>cutoff = {shifted = &quot;8 A&quot;}</code>. The cutoff treatment can be set either globally in the <code>[global]</code> table:</p>
<pre><code class="language-toml">[input]
version = 1

[global]
cutoff = &quot;8 A&quot;

[[pairs]]
# ...
# All pairs interaction will use a 8 A cutoff, unless specified otherwise.
</code></pre>
<p>or specifically for each pair interaction:</p>
<pre><code class="language-toml">[input]
version = 1

[[pairs]]
cutoff = &quot;8 A&quot;
# ...

[[pairs]]
cutoff = {shifted: &quot;7 A&quot;}
# ...

[[pairs]]
cutoff = &quot;12 A&quot;
# ...
</code></pre>
<p>If a global cutoff is defined, defining another cutoff in a <code>pairs</code> section
will override the global cutoff.</p>
<h2>Coulombic interactions</h2>
<p>The method for treatment of electrostatic interactions is specified in the
<code>coulomb</code> section. There are multiple available solvers for <a href="input/potentials.html#Electrostatic%20interactions">electrostatic
interactions</a>. Optionally,
an additional <a href="input/potentials.html#Restrictions">restriction</a> can be
specified with the <code>restriction</code> key.</p>
<pre><code class="language-toml">[coulomb]
ewald = {cutoff = &quot;10 A&quot;, kmax = 7}
restriction  = &quot;exclude13&quot;

[charges]
Na = 1
Cl = -1
</code></pre>

                </div>

                <!-- Mobile navigation buttons -->
                
                    <a href="input/systems.html" class="mobile-nav-chapters previous">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="input/potentials.html" class="mobile-nav-chapters next">
                        <i class="fa fa-angle-right"></i>
                    </a>
                

            </div>

            
                <a href="input/systems.html" class="nav-chapters previous" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-left"></i>
                </a>
            

            
                <a href="input/potentials.html" class="nav-chapters next" title="You can navigate through the chapters using the arrow keys">
                    <i class="fa fa-angle-right"></i>
                </a>
            

        </div>


        <!-- Local fallback for Font Awesome -->
        <script>
            if ($(".fa").css("font-family") !== "FontAwesome") {
                $('<link rel="stylesheet" type="text/css" href="_FontAwesome/css/font-awesome.css">').prependTo('head');
            }
        </script>

        <script src="highlight.js"></script>
        <script src="book.js"></script>
    </body>
</html>
